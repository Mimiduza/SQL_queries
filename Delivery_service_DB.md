## Структура БД
![DB_scheme](/assets/Delivery_service_DB.png?raw=true "Структура БД")

<details> 
  <summary>Описание содержимого таблиц</summary>
  Таблица Orders —  все доставленные заказы:   

- ORDERS_ID — ID заказов, int   
- USER_ID — ID пользователей, int   
- EMPLOYEE_ID — ID сотрудников, int
- DELIVERY_TIME — время доставки в минутах, int
- ITEMS — список товаров, char

Таблица Users — пользователи:   
- USER_ID — ID пользователей, int
- FULL_NAME — полное ФИО пользователя, char
- PHONE — номер телефона пользователя, char
- ADDRESS — адрес пользователя, char

Таблица Employees — работники:
- EMPLOYEE_ID — ID сотрудника, int
- FIRST_NAME —имя сотрудника, char
- LAST_NAME — фамилия сотрудника, char
- PHONE — телефон сотрудника, char
- JOB_ID — ID специализации, int

Таблица Jobs — типы работ в сервисе:
- JOB_ID — ID специализации, int
- JOB_TYPE — тип специализации, char
- HOURS — число рабочих часов в неделю, int
- SALARY — зарплата сотрудника с данной специализацией в рублях, int
</details>

## Задача 1
В службу поддержки пришло много жалоб: заказы, в которых есть гречка, доставляют почти час, хотя сервис обещает успеть в 30 минут. Проверить, действительно ли курьеры опаздывают. Выбрать все заказы, где есть хотя бы один товар - «гречка» и время доставки свыше 30 минут. В результирующей таблице должны быть ID заказов и ID курьеров.

```SQL
SELECT
orders_id,
employee_id
FROM orders
WHERE items LIKE '%гречка%' AND delivery_time > 30;
```

## Задача 2
Менеджер предложил добавить новую функциональность в продукт: мониторинг, который показывает самых активных клиентов за всё время работы компании. Нужно проверить, что список пользователей корректно выводится на экран: ID и количество заказов пяти самых активных клиентов. Отсортировать по убыванию.

```SQL
SELECT
user_id,
COUNT(orders_id) AS orders_quantity
FROM orders
GROUP BY user_id
ORDER BY orders_quantity DESC
LIMIT 5;
```

## Задача 3
Из бухгалтерии пришёл баг-репорт: зарплаты сотрудников рассчитываются некорректно. Оказалось, что почти все ошибки в расчётах — в расчётных листах менеджеров. Нужно вывести список ID всех сотрудников, у которых в специализации содержится «менеджер», с зарплатой больше 70 000 рублей.

```SQL
SELECT
employees.employee_id
FROM
employees
JOIN jobs ON employees.job_id = jobs.job_id
WHERE jobs.job_type LIKE '%менеджер%' AND jobs.salary > 70000;
```